{"version":3,"sources":["../../app/scripts/app.js","../../app/scripts/controllers/main.js","../../app/scripts/services/transitFactory.js"],"names":[],"mappings":"AAAA,CAAC,GAAG,CAAC,MAAM,EAAE;AACb;AACA,GAAG;AACH,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ;AAClB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG;AACZ,CAAC,CAAC,CAAC,CAAC,WAAW;AACf,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG;AAChB,CAAC,CAAC;AACF,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC;AAClC,CAAC,EAAE;AACH,OAAO;AACP,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AAClB,IAAI,CAAC,SAAS,EAAE;AAChB,IAAI,CAAC,UAAU,EAAE;AACjB,IAAI,CAAC,OAAO,EAAE;AACd,IAAI,CAAC,UAAU,EAAE;AACjB,IAAI,CAAC,OAAO,CAAC;AACb,EAAE,EAAE;AACJ,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC;AACrC,IAAI,CAAC,aAAa;AAClB,MAAM,CAAC,IAAI,KAAK,CAAC,CAAC;AAClB,QAAQ,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;AACvC,QAAQ,UAAU,CAAC,CAAC,CAAC,cAAc,EAAE;AACrC,QAAQ,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC;AAC1B,MAAM,EAAE;AACR,MAAM,CAAC,SAAS,EAAE;AAClB,QAAQ,UAAU,CAAC,CAAC,GAAG;AACvB,MAAM,GAAG;AACT,EAAE,GAAG;;AC5BL,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;AACd,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACrB,EAAE,EAAE,CAAC;AACL,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AAC3B,EAAE,EAAE,CAAC;AACL,EAAE,QAAQ,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7C,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACrB,CAAC;AACD,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;AAC9B,IAAI,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC;AAC3B,IAAI,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;AACzB,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;AACrB,IAAI,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC;AAC9C,IAAI,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;AAC1C,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AACtB,IAAI,EAAE,CAAC,IAAI,GAAG,CAAC;AACf,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACzB,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAC1B,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxB,IAAI,YAAY,GAAG,CAAC;AACpB,CAAC;AACD,IAAI,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;AAC9B,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC;AAC7B,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;AAC/B,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB,QAAQ,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACxB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACf,QAAQ,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,UAAU,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC3B,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACjB,UAAU,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACzB,QAAQ,CAAC,CAAC;AACV,MAAM,CAAC,CAAC;AACR,IAAI,CAAC,CAAC;AACN,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,MAAM,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,MAAM,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACzB,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB,QAAQ,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;AACzB,QAAQ,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACvB,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC;AAC3E,QAAQ,MAAM,CAAC,CAAC;AAChB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACf,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;AACpD,QAAQ,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;AAC1D,QAAQ,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;AACtD,QAAQ,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACjC,UAAU,EAAE,CAAC,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,YAAY,mBAAmB,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,CAAC;AAClE,UAAU,CAAC,CAAC;AACZ,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC;AACjB,QAAQ,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC5B,QAAQ,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AACxB,QAAQ,EAAE,CAAC,EAAE,gBAAgB,CAAC,CAAC,CAAC,CAAC;AACjC,UAAU,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACjC,UAAU,MAAM,CAAC,GAAG,CAAC,CAAC;AACtB,QAAQ,CAAC,CAAC;AACV,MAAM,EAAE,CAAC;AACT,IAAI,CAAC,CAAC;AACN,CAAC;AACD,IAAI,QAAQ,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACvD,MAAM,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;AACzB,MAAM,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC;AACzB,MAAM,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACzC,QAAQ,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACzC,UAAU,EAAE,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AAChD,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnC,cAAc,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtF,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACnC,cAAc,CAAC,CAAC;AAChB,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACrB,cAAc,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACtC,gBAAgB,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,kBAAkB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrC,gBAAgB,CAAC,CAAC;AAClB,cAAc,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACvB,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACnC,cAAc,CAAC,CAAC;AAChB,YAAY,CAAC,CAAC;AACd,UAAU,CAAC,CAAC;AACZ,UAAU,EAAE,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AAChD,YAAY,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnC,cAAc,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtF,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACnC,cAAc,CAAC,CAAC;AAChB,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACrB,cAAc,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACtC,gBAAgB,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,kBAAkB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACrC,gBAAgB,CAAC,CAAC;AAClB,cAAc,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACvB,gBAAgB,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACnC,cAAc,CAAC,CAAC;AAChB,YAAY,CAAC,CAAC;AACd,UAAU,CAAC,CAAC;AACZ,QAAQ,EAAE,CAAC;AACX,MAAM,EAAE,CAAC;AACT,MAAM,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC;AACtC,MAAM,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC;AACpC,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC3D,QAAQ,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,GAAG,CAAC;AACV,MAAM,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;AAC9B,IAAI,CAAC,CAAC;AACN,CAAC;AACD,CAAC;AACD,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE;AAC1B,IAAI,EAAE,CAAC,KAAK,CAAC;AACb,MAAM,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC;AAC5B,MAAM,CAAC,OAAO,EAAE,CAAC;AACjB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACrB,QAAQ,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;AACxB,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;AAC9B,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACvB,UAAU,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;AACnC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAY,EAAE,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;AACzE,UAAU,GAAG,CAAC;AACd,QAAQ,GAAG,CAAC;AACZ,QAAQ,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;AACtC,QAAQ,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;AACxC,MAAM,GAAG,CAAC;AACV,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,EAAE,CAAC,CAAC;AACJ,EAAE,EAAE,CAAC;AACL,EAAE,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC;AAC9B,EAAE,EAAE,CAAC;AACL,EAAE,OAAO,CAAC;AACV,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC;AACnB,IAAI,CAAC,UAAU,EAAE,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;AACnD,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,cAAc,GAAG,CAAC;AACzD,GAAG,IAAI,EAAE,CAAC;;ACzIV,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACf,EAAE,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;AAChB,CAAC;AACD,EAAE,OAAO,CAAC;AACV,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC;AACnB,IAAI,CAAC,OAAO,EAAE,cAAc,EAAE,CAAC,cAAc,EAAE,CAAC;AAChD,EAAE,QAAQ,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;AAC9B,CAAC;AACD,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,CAAC;AACrC,CAAC;AACD,CAAC;AACD,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACjB,MAAM,CAAC,QAAQ,EAAE,CAAC;AAClB,MAAM,CAAC,cAAc,EAAE,CAAC;AACxB,MAAM,CAAC,UAAU,EAAE,CAAC;AACpB,MAAM,CAAC,KAAK,EAAE,CAAC;AACf,MAAM,CAAC,KAAK,CAAC,CAAC;AACd,IAAI,EAAE,CAAC;AACP,CAAC;AACD,CAAC;AACD,CAAC;AACD,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC7B,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC;AACnC,MAAM,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;AACvB,MAAM,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC;AACzC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC/C,QAAQ,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AACtB,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC;AAC/C,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,UAAU,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;AAC5C,QAAQ,CAAC,CAAC;AACV,QAAQ,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;AAC1B,MAAM,CAAC,CAAC;AACR,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;AAChD,IAAI,CAAC,CAAC;AACN,CAAC;AACD,CAAC;AACD,CAAC;AACD,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AACtB,CAAC;AACD,IAAI,EAAE,CAAC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC;AAC3B,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;AAClH,MAAM,CAAC,cAAc,EAAE,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;AAC/D,MAAM,CAAC,UAAU,EAAE,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC;AAChH,MAAM,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC;AACrJ,MAAM,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,aAAa,CAAC,eAAe,CAAC,YAAY,CAAC,QAAQ,CAAC,qBAAqB,CAAC,aAAa,CAAC,CAAC;AAC1I,IAAI,GAAG,CAAC;AACR,CAAC;AACD,IAAI,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3B,IAAI,EAAE,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACjC,MAAM,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAClD,QAAQ,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,UAAU,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC;AACvF,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACjB,UAAU,OAAO,CAAC,GAAG,EAAE,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC;AAC1E,UAAU,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7F,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AAC9C,cAAc,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC/B,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;AACtC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,YAAY,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAC1D,YAAY,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACnC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,YAAY,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC;AAC/F,YAAY,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC;AAC1C,UAAU,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1B,YAAY,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACnD,UAAU,KAAK,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,YAAY,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC;AAC5D,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,YAAY,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;AAC1E,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC;AACvB,UAAU,GAAG,CAAC;AACd,QAAQ,CAAC,CAAC;AACV,MAAM,GAAG,CAAC;AACV,IAAI,GAAG,CAAC;AACR,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,IAAI,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACvC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AACpB,MAAM,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,GAAG,OAAO,EAAE,CAAC;AAC5C,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACvB,UAAU,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;AAChC,QAAQ,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACxB,UAAU,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3B,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1B,UAAU,OAAO,CAAC,GAAG,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;AAClE,UAAU,KAAK,CAAC,GAAG,CAAC,CAAC;AACrB,QAAQ,EAAE,CAAC;AACX,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC;AAClB,IAAI,CAAC,CAAC;AACN,CAAC;AACD,IAAI,EAAE,CAAC,oBAAoB,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AACrD,MAAM,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC;AAC/B,MAAM,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,GAAG,yBAAyB,CAAC,SAAS,EAAE,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/F,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,UAAU,EAAE,CAAC,UAAU,CAAC,KAAK,EAAE,OAAO,GAAG,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5F,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,cAAc,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACrC,YAAY,EAAE,CAAC;AACf,UAAU,EAAE,CAAC;AACb,QAAQ,EAAE,CAAC;AACX,MAAM,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB,QAAQ,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;AACrC,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACxB,QAAQ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;AAChC,QAAQ,MAAM,CAAC,GAAG,CAAC,CAAC;AACpB,MAAM,EAAE,CAAC;AACT,MAAM,MAAM,CAAC,cAAc,CAAC,CAAC;AAC7B,IAAI,CAAC,CAAC;AACN,CAAC;AACD,IAAI,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACjD,MAAM,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC;AAC7B,MAAM,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,SAAS,GAAG,yBAAyB,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7F,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,UAAU,EAAE,CAAC,UAAU,CAAC,KAAK,EAAE,OAAO,GAAG,eAAe,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5F,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,cAAc,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACnC,YAAY,EAAE,CAAC;AACf,UAAU,EAAE,CAAC;AACb,QAAQ,EAAE,CAAC;AACX,MAAM,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB,QAAQ,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;AAC7C,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACxB,QAAQ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;AAChC,QAAQ,MAAM,CAAC,GAAG,CAAC,CAAC;AACpB,MAAM,EAAE,CAAC;AACT,MAAM,MAAM,CAAC,YAAY,CAAC,CAAC;AAC3B,IAAI,CAAC,CAAC;AACN,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,CAAC;AACD,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;AACpB,CAAC;AACD,EAAE,CAAC,CAAC;AACJ,KAAK,CAAC;AACN,CAAC","file":"scripts.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc overview\n * @name app\n * @description\n * # transit app\n *\n * Main module of the application.\n */\nangular\n  .module('app', [\n    'ngCookies',\n    'ngResource',\n    'ngRoute',\n    'ngSanitize',\n    'ngTouch'\n  ])\n  .config(function ($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'views/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  });\n","'use strict';\r\n(function (global) {\r\n  /*\r\n    Methods for Controller\r\n  */\r\n  function MainController($scope, transit) {\r\n    var vm = $scope;\r\n\r\n    vm.hello = 'Hello World';\r\n    vm.departureStop = [];\r\n    vm.arrivalStop = [];\r\n    vm.results = {};\r\n    vm.selectDeparture = vm.departureStop[0];\r\n    vm.selectArrival = vm.arrivalStop[0];\r\n    var ct = transit;\r\n    ct.open();\r\n    var weekday = false;\r\n    var saturday = false;\r\n    var sunday = false;\r\n    getDayOfWeek();\r\n\r\n    function getDayOfWeek() {\r\n      var date = new Date();\r\n      var day = date.getDay();\r\n      if (day < 6) {\r\n        weekday = true;\r\n      } else {\r\n        if (day == 6) {\r\n          saturday = true;\r\n        } else {\r\n          sunday = true;\r\n        }\r\n      }\r\n    }\r\n    vm.findbtn = function (a, d) {\r\n      vm.selectDeparture = d;\r\n      vm.selectArrival = a;\r\n      console.log(d, a);\r\n      if (d === a) {\r\n        vm.results = [];\r\n        vm.err = true;\r\n        vm.error = 'The Departure and Arrival Stations must be different';\r\n        return;\r\n      } else {\r\n        // var results = ct.searchDepartureTimes(d)\r\n        var departureResults = ct.searchDepartureTimes(d)\r\n        var arrivalResults = ct.searchArrivalTimes(a)\r\n        setTimeout(function () {\r\n          if (departureResults.length > 0 && arrivalResults.length > 0) {\r\n            findMatchingTripIds(departureResults, arrivalResults)\r\n          }\r\n        }, 1000)\r\n        vm.selected = true;\r\n        vm.err = false;\r\n        if (!departureResults) {\r\n          console.log(err.stack)\r\n          return err;\r\n        }\r\n      };\r\n    }\r\n\r\n    function findMatchingTripIds(departure, arrival) {\r\n      var dep_time = [];\r\n      var arr_time = [];\r\n      departure.forEach(function (dep) {\r\n        arrival.forEach(function (arr) {\r\n          if ((dep.trip_id) == (arr.trip_id)) {\r\n            if (weekday == true) {\r\n              if (dep.trip_id.indexOf('a') == -1 && dep.trip_id.indexOf('u') == -1) {\r\n                dep_time.push(dep)\r\n              }\r\n            } else {\r\n              if (saturday == true) {\r\n                if (dep.trip_id.indexOf('a') !== -1) {\r\n                  dep_time.push(dep)\r\n                }\r\n              } else {\r\n                dep_time.push(dep)\r\n              }\r\n            }\r\n          }\r\n          if ((arr.trip_id) == (dep.trip_id)) {\r\n            if (weekday == true) {\r\n              if (arr.trip_id.indexOf('a') == -1 && arr.trip_id.indexOf('u') == -1) {\r\n                arr_time.push(arr)\r\n              }\r\n            } else {\r\n              if (saturday == true) {\r\n                if (arr.trip_id.indexOf('a') !== -1) {\r\n                  arr_time.push(arr)\r\n                }\r\n              } else {\r\n                arr_time.push(arr)\r\n              }\r\n            }\r\n          }\r\n        })\r\n      })\r\n      vm.results.departure = dep_time\r\n      vm.results.arrival = arr_time\r\n      $scope.$apply('results', function (newVal, oldVal) {\r\n        vm.results = newVal;\r\n      });\r\n      console.log(vm.results)\r\n    }\r\n\r\n\r\n    // Get Station Names \r\n    ct.stops\r\n      .orderBy('stop_name')\r\n      .toArray()\r\n      .then(res => {\r\n        let names = [];\r\n        let uniqueNames = [];\r\n        res.map(r => {\r\n          names.push(r.stop_name);\r\n          $.each(names, function (i, el) {\r\n            if ($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);\r\n          });\r\n        });\r\n        vm.arrivalStop = uniqueNames;\r\n        vm.departureStop = uniqueNames;\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n  /*\r\n  Bind Controller to the View\r\n  */\r\n  angular\r\n    .module('app')\r\n    .controller('MainController', MainController);\r\n  MainController.$inject = ['$scope', 'transitFactory'];\r\n})(this);\r\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app')\r\n    .factory('transitFactory', transitFactory);\r\n  function transitFactory() {\r\n\r\n    var transit = new Dexie('gtfs');\r\n\r\n\r\n    var gtfs = [\r\n      'calendar',\r\n      'calendar_dates',\r\n      'stop_times',\r\n      'stops',\r\n      'trips'\r\n    ];\r\n\r\n\r\n\r\n    function parseCSV(csv) {\r\n      var lines = csv.split(\"\\n\");\r\n      var result = [];\r\n      var headers = lines[0].split(\",\");\r\n      for (var i = 1; i < lines.length; i++) {\r\n        var obj = {};\r\n        var currentline = lines[i].split(\",\");\r\n        for (var j = 0; j < headers.length; j++) {\r\n          obj[headers[j]] = currentline[j];\r\n        }\r\n        result.push(obj);\r\n      }\r\n      return result; // No need to make it JSON\r\n    }\r\n\r\n\r\n\r\n    var db = transit;\r\n\r\n    db.version(1).stores({\r\n      'calendar': \"++id,service_id,monday,tuesday,wednesday,thursday,friday,saturday,sunday,start_date,end_date\",\r\n      'calendar_dates': \"++id,service_id,date,exception_type\",\r\n      'stop_times': \"++id,trip_id,arrival_time,departure_time,stop_id,stop_sequence,pickup_type,drop_off_type\",\r\n      'stops': \"++id,stop_id,stop_code,stop_name,stop_lat,stop_lon,zone_id,stop_url,location_type,parent_station,platform_code,wheelchair_boarding\",\r\n      'trips': \"++id,route_id,service_id,trip_id,trip_headsign,trip_short_name,direction_id,shape_id,wheelchair_accessible,bikes_allowed\"\r\n    });\r\n\r\n    // Populate from AJAX:\r\n    db.on('ready', function () {\r\n      return db.calendar.count(function (count) {\r\n        if (count > 0) {\r\n          console.log(\"Already populated, 'gtfs' is already created at this domain.\");\r\n        } else {\r\n          console.log(\"Database is empty. Populating from ajax call...\");\r\n          return Dexie.Promise.all(gtfs.map(name => new Dexie.Promise((resolve, reject) => {\r\n            $.ajax('gtfs/' + name + '.txt', {\r\n              dataType: 'text'\r\n            }).then(resolve, reject);\r\n          }).then(data => {\r\n            console.log(\"Got ajax response for \" + name);\r\n            return parseCSV(data);\r\n          }).then(res => {\r\n            console.log(\"Bulk putting \" + res.length + \" \" + name + \" records into database\");\r\n            return db[name].bulkPut(res);\r\n          }).then(() => {\r\n            console.log(\"Done importing \" + name);\r\n          }))).then(() => {\r\n            console.log(\"All files successfully imported\");\r\n          }).catch(err => {\r\n            console.error(\"Error importing data: \" + (err.stack || err));\r\n            throw err;\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n\r\n\r\n    db.getAllStopTimes = function () {\r\n      var arr = [];\r\n      db.stop_times.orderBy('id').toArray()\r\n        .then(res => {\r\n          return arr.push(res);\r\n        }).then(() => {\r\n          console.log(arr)\r\n        }).catch(err => {\r\n          console.log(\"Exception thrown: \" + (err.stack || err));\r\n          throw err;\r\n        })\r\n      return arr;\r\n    }\r\n\r\n    db.searchDepartureTimes = function (departure) {\r\n      var departureTimes = [];\r\n      db.stops.where(\"stop_name\").startsWithAnyOfIgnoreCase(departure).toArray().then(res => {\r\n        res.forEach(r => {\r\n          db.stop_times.where(\"stop_id\").startsWithAnyOf(r.stop_id).toArray().then(res => {\r\n            res.map(r => {\r\n              departureTimes.push(r)\r\n            })\r\n          })\r\n        })\r\n      }).then(() => {\r\n        console.log(departureTimes);\r\n      }).catch(err => {\r\n        console.log(err.stack);\r\n        return err;\r\n      })\r\n      return departureTimes;\r\n    }\r\n\r\n    db.searchArrivalTimes = function (arrival) {\r\n      var arrivalTimes = [];\r\n      db.stops.where(\"stop_name\").startsWithAnyOfIgnoreCase(arrival).toArray().then(res => {\r\n        res.forEach(r => {\r\n          db.stop_times.where(\"stop_id\").startsWithAnyOf(r.stop_id).toArray().then(res => {\r\n            res.map(r => {\r\n              arrivalTimes.push(r)\r\n            })\r\n          })\r\n        })\r\n      }).then(() => {\r\n        // console.log(arrivalTimes.length);\r\n      }).catch(err => {\r\n        console.log(err.stack);\r\n        return err;\r\n      })\r\n      return arrivalTimes;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return transit;\r\n\r\n  }\r\n})();\r\n\r\n"]}