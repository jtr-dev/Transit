{"version":3,"sources":["../../app/scripts/app.js","../../app/scripts/controllers/main.js","../../app/scripts/services/transitFactory.js"],"names":[],"mappings":"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","file":"scripts.js","sourcesContent":["'use strict';\n\n/**\n * @ngdoc overview\n * @name app\n * @description\n * # transit app\n *\n * Main module of the application.\n */\nangular\n  .module('app', [\n    'ngCookies',\n    'ngResource',\n    'ngRoute',\n    'ngSanitize',\n    'ngTouch'\n  ])\n  .config(function ($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'views/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  });\n","'use strict';\n(function (global) {\n  /*\n    Methods for Controller\n  */\n  function MainController($scope, transit) {\n    var vm = $scope;\n\n    vm.hello = 'Hello World';\n    vm.departureStop = [];\n    vm.arrivalStop = [];\n    vm.results = {};\n    vm.selectDeparture = vm.departureStop[0];\n    vm.selectArrival = vm.arrivalStop[0];\n    var ct = transit;\n    ct.open();\n    var weekday = false;\n    var saturday = false;\n    var sunday = false;\n    getDayOfWeek();\n\n    function getDayOfWeek() {\n      var date = new Date();\n      var day = date.getDay();\n      if (day < 6) {\n        weekday = true;\n      } else {\n        if (day == 6) {\n          saturday = true;\n        } else {\n          sunday = true;\n        }\n      }\n    }\n    vm.findbtn = function (a, d) {\n      vm.selectDeparture = d;\n      vm.selectArrival = a;\n      console.log(d, a);\n      if (d === a) {\n        vm.results = [];\n        vm.err = true;\n        vm.error = 'The Departure and Arrival Stations must be different';\n        return;\n      } else {\n        // var results = ct.searchDepartureTimes(d)\n        var departureResults = ct.searchDepartureTimes(d)\n        var arrivalResults = ct.searchArrivalTimes(a)\n        setTimeout(function () {\n          if (departureResults.length > 0 && arrivalResults.length > 0) {\n            findMatchingTripIds(departureResults, arrivalResults)\n          }\n        }, 1000)\n        vm.selected = true;\n        vm.err = false;\n        if (!departureResults) {\n          console.log(err.stack)\n          return err;\n        }\n      };\n    }\n\n    function findMatchingTripIds(departure, arrival) {\n      var dep_time = [];\n      var arr_time = [];\n      departure.forEach(function (dep) {\n        arrival.forEach(function (arr) {\n          if ((dep.trip_id) == (arr.trip_id)) {\n            if (weekday == true) {\n              if (dep.trip_id.indexOf('a') == -1 && dep.trip_id.indexOf('u') == -1) {\n                dep_time.push(dep)\n              }\n            } else {\n              if (saturday == true) {\n                if (dep.trip_id.indexOf('a') !== -1) {\n                  dep_time.push(dep)\n                }\n              } else {\n                dep_time.push(dep)\n              }\n            }\n          }\n          if ((arr.trip_id) == (dep.trip_id)) {\n            if (weekday == true) {\n              if (arr.trip_id.indexOf('a') == -1 && arr.trip_id.indexOf('u') == -1) {\n                arr_time.push(arr)\n              }\n            } else {\n              if (saturday == true) {\n                if (arr.trip_id.indexOf('a') !== -1) {\n                  arr_time.push(arr)\n                }\n              } else {\n                arr_time.push(arr)\n              }\n            }\n          }\n        })\n      })\n      vm.results.departure = dep_time\n      vm.results.arrival = arr_time\n      $scope.$apply('results', function (newVal, oldVal) {\n        vm.results = newVal;\n      });\n      console.log(vm.results)\n    }\n\n\n    // Get Station Names \n    ct.stops\n      .orderBy('stop_name')\n      .toArray()\n      .then(res => {\n        let names = [];\n        let uniqueNames = [];\n        res.map(r => {\n          names.push(r.stop_name);\n          $.each(names, function (i, el) {\n            if ($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);\n          });\n        });\n        vm.arrivalStop = uniqueNames;\n        vm.departureStop = uniqueNames;\n      });\n\n\n\n\n\n\n  }\n  /*\n  Bind Controller to the View\n  */\n  angular\n    .module('app')\n    .controller('MainController', MainController);\n  MainController.$inject = ['$scope', 'transitFactory'];\n})(this);\n","(function () {\r\n  'use strict';\r\n\r\n  angular\r\n    .module('app')\r\n    .factory('transitFactory', transitFactory);\r\n  function transitFactory() {\r\n\r\n    var transit = new Dexie('gtfs');\r\n\r\n\r\n    var gtfs = [\r\n      'calendar',\r\n      'calendar_dates',\r\n      'stop_times',\r\n      'stops',\r\n      'trips'\r\n    ];\r\n\r\n\r\n\r\n    function parseCSV(csv) {\r\n      var lines = csv.split(\"\\n\");\r\n      var result = [];\r\n      var headers = lines[0].split(\",\");\r\n      for (var i = 1; i < lines.length; i++) {\r\n        var obj = {};\r\n        var currentline = lines[i].split(\",\");\r\n        for (var j = 0; j < headers.length; j++) {\r\n          obj[headers[j]] = currentline[j];\r\n        }\r\n        result.push(obj);\r\n      }\r\n      return result; // No need to make it JSON\r\n    }\r\n\r\n\r\n\r\n    var db = transit;\r\n\r\n    db.version(1).stores({\r\n      'calendar': \"++id,service_id,monday,tuesday,wednesday,thursday,friday,saturday,sunday,start_date,end_date\",\r\n      'calendar_dates': \"++id,service_id,date,exception_type\",\r\n      'stop_times': \"++id,trip_id,arrival_time,departure_time,stop_id,stop_sequence,pickup_type,drop_off_type\",\r\n      'stops': \"++id,stop_id,stop_code,stop_name,stop_lat,stop_lon,zone_id,stop_url,location_type,parent_station,platform_code,wheelchair_boarding\",\r\n      'trips': \"++id,route_id,service_id,trip_id,trip_headsign,trip_short_name,direction_id,shape_id,wheelchair_accessible,bikes_allowed\"\r\n    });\r\n\r\n    // Populate from AJAX:\r\n    db.on('ready', function () {\r\n      return db.calendar.count(function (count) {\r\n        if (count > 0) {\r\n          console.log(\"Already populated, 'gtfs' is already created at this domain.\");\r\n        } else {\r\n          console.log(\"Database is empty. Populating from ajax call...\");\r\n          return Dexie.Promise.all(gtfs.map(name => new Dexie.Promise((resolve, reject) => {\r\n            $.ajax('gtfs/' + name + '.txt', {\r\n              dataType: 'text'\r\n            }).then(resolve, reject);\r\n          }).then(data => {\r\n            console.log(\"Got ajax response for \" + name);\r\n            return parseCSV(data);\r\n          }).then(res => {\r\n            console.log(\"Bulk putting \" + res.length + \" \" + name + \" records into database\");\r\n            return db[name].bulkPut(res);\r\n          }).then(() => {\r\n            console.log(\"Done importing \" + name);\r\n          }))).then(() => {\r\n            console.log(\"All files successfully imported\");\r\n          }).catch(err => {\r\n            console.error(\"Error importing data: \" + (err.stack || err));\r\n            throw err;\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n\r\n\r\n    db.getAllStopTimes = function () {\r\n      var arr = [];\r\n      db.stop_times.orderBy('id').toArray()\r\n        .then(res => {\r\n          return arr.push(res);\r\n        }).then(() => {\r\n          console.log(arr)\r\n        }).catch(err => {\r\n          console.log(\"Exception thrown: \" + (err.stack || err));\r\n          throw err;\r\n        })\r\n      return arr;\r\n    }\r\n\r\n    db.searchDepartureTimes = function (departure) {\r\n      var departureTimes = [];\r\n      db.stops.where(\"stop_name\").startsWithAnyOfIgnoreCase(departure).toArray().then(res => {\r\n        res.forEach(r => {\r\n          db.stop_times.where(\"stop_id\").startsWithAnyOf(r.stop_id).toArray().then(res => {\r\n            res.map(r => {\r\n              departureTimes.push(r)\r\n            })\r\n          })\r\n        })\r\n      }).then(() => {\r\n        console.log(departureTimes);\r\n      }).catch(err => {\r\n        console.log(err.stack);\r\n        return err;\r\n      })\r\n      return departureTimes;\r\n    }\r\n\r\n    db.searchArrivalTimes = function (arrival) {\r\n      var arrivalTimes = [];\r\n      db.stops.where(\"stop_name\").startsWithAnyOfIgnoreCase(arrival).toArray().then(res => {\r\n        res.forEach(r => {\r\n          db.stop_times.where(\"stop_id\").startsWithAnyOf(r.stop_id).toArray().then(res => {\r\n            res.map(r => {\r\n              arrivalTimes.push(r)\r\n            })\r\n          })\r\n        })\r\n      }).then(() => {\r\n        // console.log(arrivalTimes.length);\r\n      }).catch(err => {\r\n        console.log(err.stack);\r\n        return err;\r\n      })\r\n      return arrivalTimes;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return transit;\r\n\r\n  }\r\n})();\r\n\r\n"]}